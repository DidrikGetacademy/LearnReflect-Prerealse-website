{"ast":null,"code":"import React,{useState}from'react';import{PayPalScriptProvider,PayPalButtons}from\"@paypal/react-paypal-js\";import{jsx as _jsx,Fragment as _Fragment,jsxs as _jsxs}from\"react/jsx-runtime\";export default function PaymentDetails(){const[paid,setPaidFor]=useState(false);const[error,setError]=useState(false);const[amount,setAmount]=useState(20);// Allowing custom amount\nconst CreateOrder=async function(){let amount=arguments.length>0&&arguments[0]!==undefined?arguments[0]:20;let currency=arguments.length>1&&arguments[1]!==undefined?arguments[1]:\"USD\";try{const response=await fetch('https://learnreflects.com/Server/Payment.php/create-paypal-order.php',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({amount,currency})});const data=await response.json();return data.orderID;// Return the order ID from the backend\n}catch(error){console.error('Error creating PayPal order:',error);setError(true);}};const handleApprove=async(data,actions)=>{try{// Capture the order using the actions object\nconst orderData=await actions.order.capture();console.log(\"Order successfully captured! Order Data: \",orderData);setPaidFor(true);}catch(error){console.error('Error capturing order:',error);setError(true);}};const handleError=err=>{console.log('Error: ',err);setError(true);};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"img\",{src:\"path_to_your_image\",alt:\"Payment Logo\"}),\" \",/*#__PURE__*/_jsx(PayPalScriptProvider,{options:{\"client-id\":\"AQTrkWTmd3pfVlhl_bNhKbCyjeVh0Yf-O-fsWLPw0sRgrzWwdPOCx0o_YFKSmoFfxkdecE0ySjfxoWPt\"},children:/*#__PURE__*/_jsxs(\"div\",{className:\"payment-details\",id:\"paypal-button-container\",children:[paid?/*#__PURE__*/_jsx(\"h2\",{children:\"Payment Successful!\"}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"input\",{type:\"number\",value:amount,onChange:e=>setAmount(e.target.value),placeholder:\"Enter Amount\"}),/*#__PURE__*/_jsx(PayPalButtons,{createOrder:async(data,actions)=>{const orderID=await CreateOrder(amount);// Use custom amount\nreturn orderID;// Return the created order ID\n},onApprove:handleApprove,onError:handleError})]}),error&&/*#__PURE__*/_jsx(\"p\",{children:\"An error occurred during the payment process. Please try again.\"})]})})]});}","map":{"version":3,"names":["React","useState","PayPalScriptProvider","PayPalButtons","jsx","_jsx","Fragment","_Fragment","jsxs","_jsxs","PaymentDetails","paid","setPaidFor","error","setError","amount","setAmount","CreateOrder","arguments","length","undefined","currency","response","fetch","method","headers","body","JSON","stringify","data","json","orderID","console","handleApprove","actions","orderData","order","capture","log","handleError","err","children","src","alt","options","className","id","type","value","onChange","e","target","placeholder","createOrder","onApprove","onError"],"sources":["C:/Users/didri/Desktop/PreRealse/LearnReflect-Prerealse-website/src/PaymentDetails.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport { PayPalScriptProvider, PayPalButtons } from \"@paypal/react-paypal-js\";\r\n\r\nexport default function PaymentDetails() {\r\n    const [paid, setPaidFor] = useState(false);\r\n    const [error, setError] = useState(false);\r\n    const [amount, setAmount] = useState(20); // Allowing custom amount\r\n\r\n    const CreateOrder = async (amount = 20, currency = \"USD\") => {\r\n        try {\r\n            const response = await fetch('https://learnreflects.com/Server/Payment.php/create-paypal-order.php', {\r\n                method: 'POST',\r\n                headers: {\r\n                    'Content-Type': 'application/json',\r\n                },\r\n                body: JSON.stringify({ amount, currency }),\r\n            });\r\n\r\n            const data = await response.json();\r\n            return data.orderID; // Return the order ID from the backend\r\n        } catch (error) {\r\n            console.error('Error creating PayPal order:', error);\r\n            setError(true);\r\n        }\r\n    };\r\n\r\n    const handleApprove = async (data, actions) => {\r\n        try {\r\n            // Capture the order using the actions object\r\n            const orderData = await actions.order.capture();\r\n            console.log(\"Order successfully captured! Order Data: \", orderData);\r\n            setPaidFor(true);\r\n        } catch (error) {\r\n            console.error('Error capturing order:', error);\r\n            setError(true);\r\n        }\r\n    };\r\n\r\n    const handleError = (err) => {\r\n        console.log('Error: ', err);\r\n        setError(true);\r\n    };\r\n\r\n    return (\r\n        <div>\r\n            <img src=\"path_to_your_image\" alt=\"Payment Logo\" /> {/* Replace with actual image source */}\r\n            <PayPalScriptProvider options={{ \"client-id\": \"AQTrkWTmd3pfVlhl_bNhKbCyjeVh0Yf-O-fsWLPw0sRgrzWwdPOCx0o_YFKSmoFfxkdecE0ySjfxoWPt\" }}>\r\n                <div className='payment-details' id=\"paypal-button-container\">\r\n                    {paid ? (\r\n                        <h2>Payment Successful!</h2>\r\n                    ) : (\r\n                        <>\r\n                            <input\r\n                                type=\"number\"\r\n                                value={amount}\r\n                                onChange={(e) => setAmount(e.target.value)}\r\n                                placeholder=\"Enter Amount\"\r\n                            />\r\n                            <PayPalButtons\r\n                                createOrder={async (data, actions) => {\r\n                                    const orderID = await CreateOrder(amount); // Use custom amount\r\n                                    return orderID; // Return the created order ID\r\n                                }}\r\n                                onApprove={handleApprove}\r\n                                onError={handleError}\r\n                            />\r\n                        </>\r\n                    )}\r\n                    {error && <p>An error occurred during the payment process. Please try again.</p>}\r\n                </div>\r\n            </PayPalScriptProvider>\r\n        </div>\r\n    );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}